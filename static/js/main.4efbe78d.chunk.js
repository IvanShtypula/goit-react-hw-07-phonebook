(this.webpackJsonpphonebook_7=this.webpackJsonpphonebook_7||[]).push([[0],{10:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__1s8iG",contactForm__label:"ContactForm_contactForm__label__2CCC4",contactForm__input:"ContactForm_contactForm__input__Rpuk0",contactForm__submit:"ContactForm_contactForm__submit__1u8dq",alertModal:"ContactForm_alertModal__15CME"}},13:function(t,e,n){t.exports={container:"App_container__1OTj4",title:"App_title__34PJM",contactsList:"App_contactsList__318ri"}},15:function(t,e,n){t.exports={list_item:"ListItem_list_item__2S-yG","list_item-name":"ListItem_list_item-name__2aECd","list_item-number":"ListItem_list_item-number__1HeT5","list_item-button":"ListItem_list_item-button__2tDqv"}},20:function(t,e,n){t.exports={enterActive:"reverseTransition_enterActive__ib0Gs",task:"reverseTransition_task__3AAuq",exitActive:"reverseTransition_exitActive__1bHwH"}},24:function(t,e,n){t.exports={filter_input:"Filter_filter_input__35sKY",filterTitle:"Filter_filterTitle__OaSzU"}},40:function(t,e,n){t.exports=n(69)},50:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),s=n(7),i=(n(50),n(17)),u=n(18),m=n(23),l=n(21),b=n(70),f=n(2),d=n(19),_=n(14),h=n.n(_),p=n(1),C=Object(p.b)("@contacts/addRequest"),v=Object(p.b)("@contacts/addSuccess"),O=Object(p.b)("@contacts/addError"),j=Object(p.b)("@contacts/removeRequest"),E=Object(p.b)("@contacts/removeSuccess"),g=Object(p.b)("@contacts/removeError"),F={addContactRequest:C,addContactSuccess:v,addContactError:O,fetchContactsRequest:Object(p.b)("@contacts/fetchRequest"),fetchContactsSuccess:Object(p.b)("@contacts/fetchSuccess"),fetchContactsError:Object(p.b)("@contacts/fetchError"),removeContactRequest:j,removeContactSuccess:E,removeContactError:g};Object(p.b)("@contacts/remove");h.a.defaults.baseURL="http://localhost:5000";var N,S,y={addContact:function(t,e){return function(n){n(F.addContactRequest()),h.a.post("/contacts",{name:t,number:e}).then((function(t){n(F.addContactSuccess(t.data))})).catch((function(t){return n(F.addContactError)}))}},fetchContacts:function(){return function(t){t(F.fetchContactsRequest()),h.a.get("/contacts").then((function(e){var n=e.data;return t(F.fetchContactsSuccess(n))})).catch((function(e){return t(F.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(F.removeContactRequest()),h.a.delete("/contacts/".concat(t)).then((function(){return e(F.removeContactSuccess(t))})).catch((function(t){return e(F.removeContactError(t))}))}}},I=n(10),A=n.n(I),R=(n(68),n(8)),q=function(t){return t.contacts.items},L=function(t){return t.contacts.filter},k={getLoading:function(t){return t.contacts.loading},getItems:q,getItemById:Object(R.a)([q,function(t,e){return e}],(function(t,e){return t.find((function(t){return t.id===e}))})),getFilter:L,getChoosenItems:Object(R.a)([q,L],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},w=function(t){Object(m.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).formInitialState={name:"",number:"",sameName:!1},t.state=Object(d.a)({},t.formInitialState),t.handleInput=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(f.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.props.items,a=e.target.name.value;if(n.some((function(t){return t.name===a})))return t.setState({name:"",number:"",sameName:!0}),void setTimeout(t.timeOutAlert,1500);var c=t.state.name,r=t.state.number;t.props.onAddContact(c,r),t.setState({name:"",number:""})},t.timeOutAlert=function(){t.setState({sameName:!1})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.sameName;return c.a.createElement("form",{className:A.a.contactForm,autoComplete:"off",onSubmit:this.handleSubmit},c.a.createElement(b.a,{classNames:"alertWindow",in:a,timeout:1e3,unmountOnExit:!0},c.a.createElement("div",{className:A.a.alertModal},"Contact already exist!")),c.a.createElement("label",{htmlFor:"name",className:A.a.contactForm__label},"Name"),c.a.createElement("input",{className:A.a.contactForm__input,type:"text",name:"name",id:"name",placeholder:"   Enter your name",value:e,onChange:this.handleInput}),c.a.createElement("label",{htmlFor:"number",className:A.a.contactForm__label},"Number"),c.a.createElement("input",{className:A.a.contactForm__input,type:"tel",name:"number",id:"Number",placeholder:"   Enter your number",value:n,onChange:this.handleInput}),c.a.createElement("button",{className:A.a.contactForm__submit,type:"submit"},"Add contact"))}}]),n}(a.Component),x={onAddContact:y.addContact},T=Object(s.b)((function(t){return{items:k.getItems(t)}}),x)(w),M=Object(p.b)("@contacts/filter"),D=n(24),G=n.n(D),B={contactsFilterChange:M},H=Object(s.b)((function(t){return{value:k.getFilter(t)}}),B)((function(t){var e=t.value,n=t.contactsFilterChange;return c.a.createElement("div",{className:G.a.filterWrap},c.a.createElement("h3",{className:G.a.filterTitle},"Find by name"),c.a.createElement("input",{type:"text",className:G.a.filter_input,value:e,onChange:function(t){return n(t.target.value)}}))})),J=n(71),U=n(13),P=n.n(U),W=n(20),z=n.n(W),K=n(15),Y=n.n(K),Q=Object(s.b)((function(t,e){var n=k.getItemById(t,e.id);return Object(d.a)({},n)}),(function(t,e){return{onRemoveContact:function(){return t(y.removeContact(e.id))}}}))((function(t){var e=t.onRemoveContact,n=t.name,a=t.number;return c.a.createElement("li",{className:Y.a.list_item},c.a.createElement("p",{className:Y.a["list_item-name"]},n,": "),c.a.createElement("p",{className:Y.a["list_item-number"]}," ",a),c.a.createElement("button",{onClick:e,className:Y.a["list_item-button"]},"\xd7"))})),V=Object(s.b)((function(t){return{choosenItems:k.getChoosenItems(t)}}))((function(t){var e=t.choosenItems;return c.a.createElement(J.a,{component:"ul",className:P.a.contactsList},e.length>0&&e.map((function(t){var e=t.id;return c.a.createElement(b.a,{key:e,classNames:z.a,timeout:500},c.a.createElement(Q,{id:e}))})))})),X=function(t){Object(m.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={showTitle:!1},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts(),this.setState({showTitle:!0})}},{key:"componentDidUpdate",value:function(t){}},{key:"render",value:function(){var t=this.state.showTitle;return c.a.createElement("div",{className:P.a.container},this.props.isLoading&&c.a.createElement("h1",null,"LOADING..."),c.a.createElement(b.a,{classNames:z.a,in:t,timeout:500},c.a.createElement("h1",{className:P.a.title},"Phonebook")),c.a.createElement(T,{contacts:this.props.items}),this.props.items.length>1&&c.a.createElement(H,null),c.a.createElement("h2",null,"Contacts"),c.a.createElement(V,null))}}]),n}(a.Component),Z={contactsFilter:M,onFetchContacts:y.fetchContacts},$=Object(s.b)((function(t){return{items:k.getItems(t),isLoading:k.getLoading(t)}}),Z)(X),tt=n(22),et=n(6),nt=Object(p.c)([],(N={},Object(f.a)(N,F.fetchContactsSuccess,(function(t,e){return e.payload})),Object(f.a)(N,F.addContactSuccess,(function(t,e){var n=e.payload;return[].concat(Object(tt.a)(t),[n])})),Object(f.a)(N,F.removeContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),N)),at=Object(p.c)("",Object(f.a)({},M,(function(t,e){return e.payload}))),ct=Object(p.c)(!1,(S={},Object(f.a)(S,F.fetchContactsRequest,(function(){return!0})),Object(f.a)(S,F.fetchContactsSuccess,(function(){return!1})),Object(f.a)(S,F.fetchContactsError,(function(){return!1})),Object(f.a)(S,F.addContactRequest,(function(){return!0})),Object(f.a)(S,F.addContactSuccess,(function(){return!1})),Object(f.a)(S,F.addContactError,(function(){return!1})),Object(f.a)(S,F.removeContactRequest,(function(){return!0})),Object(f.a)(S,F.removeContactSuccess,(function(){return!1})),Object(f.a)(S,F.removeContactError,(function(){return!1})),S)),rt=Object(et.c)({items:nt,filter:at,loading:ct}),ot=Object(p.a)({reducer:{contacts:rt},middleware:Object(tt.a)(Object(p.d)())});o.a.render(c.a.createElement(s.a,{store:ot},c.a.createElement($,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4efbe78d.chunk.js.map